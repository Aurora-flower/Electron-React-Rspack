/**
 * @file IPC é€šè®¯ç®¡ç† - äº‹ä»¶å¤„ç†ä¸åˆ†å‘
 * @description
 * åœ¨ Electron ä¸­ï¼ŒIPC ç”¨äºä¸»è¿›ç¨‹ï¼ˆMain Processï¼‰ä¸æ¸²æŸ“è¿›ç¨‹ï¼ˆRenderer Processï¼‰ä¹‹é—´çš„é€šä¿¡ã€‚
 * ç”±äºä¸»è¿›ç¨‹å’Œæ¸²æŸ“è¿›ç¨‹æ˜¯ä¸¤ä¸ªä¸åŒçš„è¿›ç¨‹ï¼Œå½¼æ­¤ä¹‹é—´ä¸èƒ½ç›´æ¥å…±äº«æ•°æ®ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨ IPC æ¥äº¤æ¢ä¿¡æ¯ã€‚
 *
 * @remarks
 * - Electron æä¾›äº† `ipcMain` å’Œ `ipcRenderer` ä¸¤ä¸ªæ¨¡å—æ¥å¤„ç† IPC é€šä¿¡:
 *    - `ipcMain`ï¼šç”¨äºåœ¨ä¸»è¿›ç¨‹ä¸­ç›‘å¬å’Œå“åº”æ¥è‡ªæ¸²æŸ“è¿›ç¨‹çš„æ¶ˆæ¯ã€‚
 *    - `ipcRenderer`ï¼šç”¨äºåœ¨æ¸²æŸ“è¿›ç¨‹ä¸­å‘é€æ¶ˆæ¯åˆ°ä¸»è¿›ç¨‹ï¼Œå¹¶æ¥æ”¶ä¸»è¿›ç¨‹çš„å“åº”ã€‚
 *
 * - `**å¯¹è±¡åºåˆ—åŒ–(ç»“æ„åŒ–å…‹éš†åºåˆ—åŒ–)**`:
 *    Electron çš„ IPC å®ç°ä½¿ç”¨ HTML æ ‡å‡†çš„ `ç»“æ„åŒ–å…‹éš†ç®—æ³•` æ¥åºåˆ—åŒ–è¿›ç¨‹ä¹‹é—´ä¼ é€’çš„å¯¹è±¡ï¼Œ
 *    è¿™æ„å‘³ç€åªæœ‰æŸäº›ç±»å‹çš„å¯¹è±¡å¯ä»¥é€šè¿‡ IPC é€šé“ä¼ é€’ã€‚
 */

import debugLog from '@/electron/tools/log';

// TODO: å®šä¹‰å¥½äº‹ä»¶çš„ä¼ å‚ä¸å¤„ç†é€»è¾‘ - äº‹ä»¶åˆ†å‘

const Panel = {};

/**
 * @summary  å¯ç”¨ IPC æ¶ˆæ¯æ¸ é“ (APP_PIPE_ACTIONS)
 * @remarks
 * 1. **æ¸²æŸ“é€²ç¨‹ -> ä¸»é€²ç¨‹**
 * - å•å‘ï¼š
 *    - å‘é€æ¶ˆæ¯ï¼š`ipcRenderer.send`
 *    - æ¥æ”¶æ¶ˆæ¯ï¼š`ipcMain.on`
 *
 * - åŒå‘ï¼š
 *    - å‘é€æ¶ˆæ¯ï¼š`ipcRenderer.invoke` -- å‘é€è¯·æ±‚å¹¶ç­‰å¾…å“åº” -- Promise è¿”å›å€¼
 *    - æ¥æ”¶æ¶ˆæ¯ï¼š`ipcMain.handle`
 *
 * - æ—§ç‰ˆæœ¬å¼‚æ­¥åŒå‘é€šä¿¡çš„æ¨èæ–¹å¼ï¼š
 *    - å‘é€æ¶ˆæ¯: `ipcRenderer.send`ï¼ˆæ¸²æŸ“è¿›ç¨‹å‘é€è‡³ä¸»è¿›ç¨‹ï¼‰ + `ipcRenderer.on`ï¼ˆæ¥æ”¶ä¸»è¿›ç¨‹çš„å›å¤ï¼‰
 *    - æ¥æ”¶æ¶ˆæ¯: `ipcMain.on`ï¼ˆæ¥æ”¶æ¸²æŸ“è¿›ç¨‹å‘é€çš„ä¿¡å·ï¼‰ +  `event.reply`ï¼ˆå›åº”æ¸²æŸ“è¿›ç¨‹çš„ä¿¡å·ï¼‰
 *
 * 2. **ä¸»è¿›ç¨‹ -> æ¸²æŸ“è¿›ç¨‹**:
 *    - å‘é€æ¶ˆæ¯: `Window.webContents.send`
 *    - æ¥æ”¶æ¶ˆæ¯: `ipcRenderer.on`
 *
 * æ³¨æ„ğŸ“¢ï¼š
 *  - `event.reply` æ˜¯ `ipcMain` æ¨¡å—ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºä»ä¸»è¿›ç¨‹ _**æ¸²æŸ“è¿›ç¨‹**_ å‘ _**æ¸²æŸ“è¿›ç¨‹**_ å‘é€å“åº”æ¶ˆæ¯ã€‚
 *  å½“ä¸»è¿›ç¨‹ç›‘å¬åˆ°æŸä¸ªäº‹ä»¶åï¼Œå¯ä»¥é€šè¿‡ `event.reply`æ–¹æ³•æ¥å‘é€æ•°æ®å›ç»™æ¸²æŸ“è¿›ç¨‹ã€‚
 *  - **å®‰å…¨æªæ–½**:  _é»˜è®¤éªŒè¯ æ‰€æœ‰ IPC æ¶ˆæ¯ senders_
 *  - IPC æ¶ˆæ¯å‘½åè§„èŒƒ: IPC çš„æ¶ˆæ¯åå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹äºæ¶ˆæ¯çš„å‘é€è€…ï¼Œå¯ä»¥è‡ªç”±çš„è¿›è¡Œæ¶ˆæ¯çš„å‘½åã€‚
 *  ä½†æ˜¯å¸Œæœ›åœ¨å®šåˆ¶æ¶ˆæ¯æ—¶éµå®ˆä¸€å®šçš„è§„èŒƒï¼Œé˜²æ­¢æ··ä¹±ã€‚å‘½åè§„èŒƒä¸º `module-name:action-name` æˆ– `package-name:action-name`ã€‚
 */
export function channelEventDispatch(
  channel: string,
  ...args: unknown[]
) {
  debugLog(
    {
      id: module.id,
      sign: 'ChannelEventDispatch'
    },
    channel,
    ...args,
    Panel
  );
}
